# FastAPI Image Description

Это приложение на базе FastAPI, предназначенное для загрузки изображений и получения текстового описания изображения.

## Оглавление

- [Начало работы](#начало-работы)
- [Предварительные требования](#предварительные-требования)
- [Установка](#установка)
- [Запуск приложения](#запуск-приложения)
- [Использование](#использование)
- [Пример ответа](#пример-ответа)
- [Тестирование](#тестирование)

## Начало работы

Следуйте этим шагам, чтобы запустить приложение локально.

### Предварительные требования

- Python 3.7 или выше
- pip (или pipenv/poetry для управления зависимостями)

### Установка

1. *Клонируйте репозиторий*:

bash  
   git clone https://github.com/AleksAllav/ImageDescription.git  
   cd ImageDescription
   

2. *Создайте виртуальное окружение* (опционально, но рекомендуется):
 
bash  
   python -m venv venv  
   source venv/bin/activate  # Для Linux/Mac  
   venv\Scripts\activate  # Для Windows  
   

3. *Установите необходимые зависимости*: 

bash  
   pip install -r requirements.txt
   
4. *Заполните необходимые данные в config.ini*

В config.ini две секции: Postgres и FastAPI, заполните корректными для вас данными.  
Создайте базу данных, указанную вами, в PostgreSQL.
### Запуск приложения

1. Запустите приложение с помощью \python\:

bash  
python main.py  
Приложение будет доступно по адресу: http://{FASTAPI.HOST}:{FASTAPI.PORT}

2. Запустите интерфейс с помощью \python\:

bash  
python interface.py  
Приложение будет доступно по адресу: http://127.0.0.1:7860


### Использование

Для загрузки изображения зайдите на адрес: http://{FASTAPI.HOST}:{FASTAPI.PORT} или http://127.0.0.1:7860, там будет предоставлен интерфейс 
для загрузки изображения. После загрузки изображения необходимо нажать "Submit" и после этого выведется в отдельном
поле описание загруженного изображения.
Либо отправьте POST-запрос на _/upload-image/_ с файлом изображения. 
Вы можете использовать Postman, curl или любой другой HTTP-клиент.

Для получения истории запросов отправьте GET-запрос на _/history/_

#### Пример с использованием curl:

bash
curl -X POST "http://localhost:8000/upload-image/" -F "file=@путь_к_вашему_изображению.jpg"

Где \путь_к_вашему_изображению.jpg\ — путь к файлу изображения на локальной машине.

### Пример ответа

После загрузки изображения вы получите JSON-ответ с описанием изображения:

json
{ 
    "description": "a toucan bird with a bright yellow beak"
}
